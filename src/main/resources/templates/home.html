<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Kismet Home</title>
</head>
<body>
<h1>Find a Match</h1>
<p>
    <a th:href="@{/profile}">My Profile</a>
    <a th:href="@{/matches}">Matches</a>
    <a th:href="@{/friends}">Friends</a>
</p>

<hr/>

<div th:if="${potentialMatch}">
    <div>
        <h2 th:text="${potentialMatch.firstName} + ' ' + ${potentialMatch.lastName}">User Name</h2>

        <p>
            <strong>Age:</strong>
            <span th:text="${#temporals.year(#temporals.createNow()) - #temporals.year(potentialMatch.dateOfBirth)}">25</span>
        </p>

        <p>
            <strong>Gender:</strong>
            <span th:text="${potentialMatch.gender}">Gender</span>
        </p>

        <div th:if="${potentialMatch.profile != null and potentialMatch.profile.bio != null and !potentialMatch.profile.bio.isEmpty()}">
            <h3>Bio</h3>
            <p th:text="${potentialMatch.profile.bio}">User bio</p>
        </div>

        <div th:if="${potentialMatch.profile != null and !#lists.isEmpty(potentialMatch.profile.answers)}">
            <h3>About Me</h3>
            <div th:each="answer : ${potentialMatch.profile.answers}" style="margin-bottom: 15px;">
                <p>
                    <strong th:text="${answer.promptType.displayText}">Prompt</strong>
                </p>
                <p th:text="${answer.answerText}" style="padding-left: 20px; font-style: italic;">Answer</p>
            </div>
        </div>
    </div>

    <div>
        <form th:action="@{/home/like}" method="post" style="display: inline;">
            <input type="hidden" name="targetId" th:value="${potentialMatch.id}"/>
            <button type="submit">Like</button>
        </form>

        <form th:action="@{/home/pass}" method="post" style="display: inline;">
            <input type="hidden" name="targetId" th:value="${potentialMatch.id}"/>
            <button type="submit">Pass</button>
        </form>
    </div>
</div>

<div th:unless="${potentialMatch}">
    <h2>No new people right now...</h2>
</div>

<hr/>

<form th:action="@{/logout}" method="post">
    <button type="submit">Logout</button>
</form>

</body>
</html>